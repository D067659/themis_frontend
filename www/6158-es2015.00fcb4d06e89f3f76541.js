(self.webpackChunkthemis_frontend=self.webpackChunkthemis_frontend||[]).push([[6158],{6158:function(e,n,r){"use strict";r.r(n),r.d(n,{LoginPageModule:function(){return Z}});var o=r(8583),t=r(665),i=r(3083),s=r(2555),a=r(4762),l=r(639),d=r(4572);function u(e,n){1&e&&(l.TgZ(0,"span"),l._uU(1,"Email is required"),l.qZA())}function p(e,n){1&e&&(l.TgZ(0,"span"),l._uU(1,"Email is invalid"),l.qZA())}function c(e,n){if(1&e&&(l.TgZ(0,"div",10),l.YNc(1,u,2,0,"span",11),l.YNc(2,p,2,0,"span",11),l.qZA()),2&e){const e=l.oxw();l.xp6(1),l.Q6J("ngIf",null==e.email.errors?null:e.email.errors.required),l.xp6(1),l.Q6J("ngIf",null==e.email.errors?null:e.email.errors.email)}}function g(e,n){1&e&&(l.TgZ(0,"span"),l._uU(1,"Password is required"),l.qZA())}function m(e,n){1&e&&(l.TgZ(0,"span"),l._uU(1,"Password needs to be 6 characters"),l.qZA())}function f(e,n){if(1&e&&(l.TgZ(0,"div",10),l.YNc(1,g,2,0,"span",11),l.YNc(2,m,2,0,"span",11),l.qZA()),2&e){const e=l.oxw();l.xp6(1),l.Q6J("ngIf",null==e.password.errors?null:e.password.errors.required),l.xp6(1),l.Q6J("ngIf",null==e.password.errors?null:e.password.errors.minlength)}}const h=[{path:"",component:(()=>{class e{constructor(e,n,r,o,t,i){this.fb=e,this.authService=n,this.alertController=r,this.router=o,this.loadingController=t,this.menu=i}ionViewWillEnter(){this.menu.enable(!1),this.menu.get().then(e=>{e.swipeGesture=!1})}ionViewDidLeave(){this.menu.enable(!0)}ngOnInit(){this.credentials=this.fb.group({email:["peter.widmer2@web.de",[t.kI.required,t.kI.email]],password:["test1",[t.kI.required,t.kI.minLength(5)]]})}login(){return(0,a.mG)(this,void 0,void 0,function*(){const e=yield this.loadingController.create();yield e.present(),this.authService.login(this.credentials.value).subscribe(n=>(0,a.mG)(this,void 0,void 0,function*(){yield e.dismiss(),this.router.navigateByUrl("/home",{replaceUrl:!0})}),n=>(0,a.mG)(this,void 0,void 0,function*(){yield e.dismiss();const r=yield this.alertController.create({header:"Login fehlgeschlagen",message:n.error.error,buttons:["OK"]});yield r.present()}))})}get email(){return this.credentials.get("email")}get password(){return this.credentials.get("password")}}return e.\u0275fac=function(n){return new(n||e)(l.Y36(t.qu),l.Y36(d.s),l.Y36(i.Br),l.Y36(s.F0),l.Y36(i.HT),l.Y36(i._q))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-login"]],decls:20,vars:4,consts:[[3,"formGroup","ngSubmit"],[1,"input-group"],["type","email","placeholder","Email","formControlName","email"],["class","errors",4,"ngIf"],["type","password","placeholder","Password","formControlName","password"],["type","submit","expand","block",3,"disabled"],["type","button","expand","block","color","light","fill","clear"],["type","button","expand","block","color","tertiary"],["name","logo-google","slot","start"],["name","logo-apple","slot","start"],[1,"errors"],[4,"ngIf"]],template:function(e,n){1&e&&(l._UZ(0,"ion-header"),l.TgZ(1,"ion-content"),l.TgZ(2,"form",0),l.NdJ("ngSubmit",function(){return n.login()}),l.TgZ(3,"div",1),l.TgZ(4,"ion-item"),l._UZ(5,"ion-input",2),l.qZA(),l.YNc(6,c,3,2,"div",3),l.TgZ(7,"ion-item"),l._UZ(8,"ion-input",4),l.qZA(),l.YNc(9,f,3,2,"div",3),l.qZA(),l.TgZ(10,"ion-button",5),l._uU(11,"Log in"),l.qZA(),l.TgZ(12,"ion-button",6),l._uU(13,"Not yet a member? Sign up! "),l.qZA(),l.TgZ(14,"ion-button",7),l._UZ(15,"ion-icon",8),l._uU(16," Sign in with Google "),l.qZA(),l.TgZ(17,"ion-button",7),l._UZ(18,"ion-icon",9),l._uU(19," Sign in with Apple "),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(2),l.Q6J("formGroup",n.credentials),l.xp6(4),l.Q6J("ngIf",(n.email.dirty||n.email.touched)&&n.email.errors),l.xp6(3),l.Q6J("ngIf",(n.password.dirty||n.password.touched)&&n.password.errors),l.xp6(1),l.Q6J("disabled",!n.credentials.valid))},directives:[i.Gu,i.W2,t._Y,t.JL,t.sg,i.Ie,i.pK,i.j9,t.JJ,t.u,o.O5,i.YG,i.gu],styles:["ion-content[_ngcontent-%COMP%]{--padding-top:40%;--padding-start:10%;--padding-end:10%;--background:url(https://images.unsplash.com/photo-1536431311719-398b6704d4cc?auto=format&fit=crop&ixid=eyJhcHBfaWQiOjEyMDd9&ixlib=rb-1.2.1&q=80&w=1234) 0 0/100% 100% no-repeat}.input-group[_ngcontent-%COMP%]{background:#fff;border-radius:10px;overflow:hidden;margin-bottom:15px}.errors[_ngcontent-%COMP%]{font-size:small;color:#fff;background:var(--ion-color-danger);padding-left:15px;padding-top:5px;padding-bottom:5px}"]}),e})()}];let b=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[s.Bz.forChild(h)],s.Bz]}),e})(),Z=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[o.ez,t.u5,i.Pc,b,t.UX]]}),e})()}}]);