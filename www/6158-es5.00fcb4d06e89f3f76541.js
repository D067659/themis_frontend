!function(){function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}(self.webpackChunkthemis_frontend=self.webpackChunkthemis_frontend||[]).push([[6158],{6158:function(r,t,o){"use strict";o.r(t),o.d(t,{LoginPageModule:function(){return y}});var i=o(8583),a=o(665),s=o(3083),u=o(2555),l=o(4762),c=o(639),p=o(4572);function d(e,n){1&e&&(c.TgZ(0,"span"),c._uU(1,"Email is required"),c.qZA())}function f(e,n){1&e&&(c.TgZ(0,"span"),c._uU(1,"Email is invalid"),c.qZA())}function g(e,n){if(1&e&&(c.TgZ(0,"div",10),c.YNc(1,d,2,0,"span",11),c.YNc(2,f,2,0,"span",11),c.qZA()),2&e){var r=c.oxw();c.xp6(1),c.Q6J("ngIf",null==r.email.errors?null:r.email.errors.required),c.xp6(1),c.Q6J("ngIf",null==r.email.errors?null:r.email.errors.email)}}function m(e,n){1&e&&(c.TgZ(0,"span"),c._uU(1,"Password is required"),c.qZA())}function h(e,n){1&e&&(c.TgZ(0,"span"),c._uU(1,"Password needs to be 6 characters"),c.qZA())}function b(e,n){if(1&e&&(c.TgZ(0,"div",10),c.YNc(1,m,2,0,"span",11),c.YNc(2,h,2,0,"span",11),c.qZA()),2&e){var r=c.oxw();c.xp6(1),c.Q6J("ngIf",null==r.password.errors?null:r.password.errors.required),c.xp6(1),c.Q6J("ngIf",null==r.password.errors?null:r.password.errors.minlength)}}var v,w,Z=[{path:"",component:(v=function(){function r(n,t,o,i,a,s){e(this,r),this.fb=n,this.authService=t,this.alertController=o,this.router=i,this.loadingController=a,this.menu=s}var t,o,i;return t=r,(o=[{key:"ionViewWillEnter",value:function(){this.menu.enable(!1),this.menu.get().then(function(e){e.swipeGesture=!1})}},{key:"ionViewDidLeave",value:function(){this.menu.enable(!0)}},{key:"ngOnInit",value:function(){this.credentials=this.fb.group({email:["peter.widmer2@web.de",[a.kI.required,a.kI.email]],password:["test1",[a.kI.required,a.kI.minLength(5)]]})}},{key:"login",value:function(){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadingController.create();case 2:return n=e.sent,e.next=5,n.present();case 5:this.authService.login(this.credentials.value).subscribe(function(e){return(0,l.mG)(r,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.dismiss();case 2:this.router.navigateByUrl("/home",{replaceUrl:!0});case 3:case"end":return e.stop()}},e,this)}))},function(e){return(0,l.mG)(r,void 0,void 0,regeneratorRuntime.mark(function r(){var t;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.dismiss();case 2:return r.next=4,this.alertController.create({header:"Login fehlgeschlagen",message:e.error.error,buttons:["OK"]});case 4:return t=r.sent,r.next=7,t.present();case 7:case"end":return r.stop()}},r,this)}))});case 6:case"end":return e.stop()}},e,this)}))}},{key:"email",get:function(){return this.credentials.get("email")}},{key:"password",get:function(){return this.credentials.get("password")}}])&&n(t.prototype,o),i&&n(t,i),r}(),v.\u0275fac=function(e){return new(e||v)(c.Y36(a.qu),c.Y36(p.s),c.Y36(s.Br),c.Y36(u.F0),c.Y36(s.HT),c.Y36(s._q))},v.\u0275cmp=c.Xpm({type:v,selectors:[["app-login"]],decls:20,vars:4,consts:[[3,"formGroup","ngSubmit"],[1,"input-group"],["type","email","placeholder","Email","formControlName","email"],["class","errors",4,"ngIf"],["type","password","placeholder","Password","formControlName","password"],["type","submit","expand","block",3,"disabled"],["type","button","expand","block","color","light","fill","clear"],["type","button","expand","block","color","tertiary"],["name","logo-google","slot","start"],["name","logo-apple","slot","start"],[1,"errors"],[4,"ngIf"]],template:function(e,n){1&e&&(c._UZ(0,"ion-header"),c.TgZ(1,"ion-content"),c.TgZ(2,"form",0),c.NdJ("ngSubmit",function(){return n.login()}),c.TgZ(3,"div",1),c.TgZ(4,"ion-item"),c._UZ(5,"ion-input",2),c.qZA(),c.YNc(6,g,3,2,"div",3),c.TgZ(7,"ion-item"),c._UZ(8,"ion-input",4),c.qZA(),c.YNc(9,b,3,2,"div",3),c.qZA(),c.TgZ(10,"ion-button",5),c._uU(11,"Log in"),c.qZA(),c.TgZ(12,"ion-button",6),c._uU(13,"Not yet a member? Sign up! "),c.qZA(),c.TgZ(14,"ion-button",7),c._UZ(15,"ion-icon",8),c._uU(16," Sign in with Google "),c.qZA(),c.TgZ(17,"ion-button",7),c._UZ(18,"ion-icon",9),c._uU(19," Sign in with Apple "),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(2),c.Q6J("formGroup",n.credentials),c.xp6(4),c.Q6J("ngIf",(n.email.dirty||n.email.touched)&&n.email.errors),c.xp6(3),c.Q6J("ngIf",(n.password.dirty||n.password.touched)&&n.password.errors),c.xp6(1),c.Q6J("disabled",!n.credentials.valid))},directives:[s.Gu,s.W2,a._Y,a.JL,a.sg,s.Ie,s.pK,s.j9,a.JJ,a.u,i.O5,s.YG,s.gu],styles:["ion-content[_ngcontent-%COMP%]{--padding-top:40%;--padding-start:10%;--padding-end:10%;--background:url(https://images.unsplash.com/photo-1536431311719-398b6704d4cc?auto=format&fit=crop&ixid=eyJhcHBfaWQiOjEyMDd9&ixlib=rb-1.2.1&q=80&w=1234) 0 0/100% 100% no-repeat}.input-group[_ngcontent-%COMP%]{background:#fff;border-radius:10px;overflow:hidden;margin-bottom:15px}.errors[_ngcontent-%COMP%]{font-size:small;color:#fff;background:var(--ion-color-danger);padding-left:15px;padding-top:5px;padding-bottom:5px}"]}),v)}],x=function(){var n=function n(){e(this,n)};return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[u.Bz.forChild(Z)],u.Bz]}),n}(),y=((w=function n(){e(this,n)}).\u0275fac=function(e){return new(e||w)},w.\u0275mod=c.oAB({type:w}),w.\u0275inj=c.cJS({imports:[[i.ez,a.u5,s.Pc,x,a.UX]]}),w)}}])}();